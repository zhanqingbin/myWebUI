/**
 *  @name:      redcore-webUI
 *  @version:   1.0.0
 *  @author:    redcore
 *  @desc:      redcore 内核webUI 页面开发
 *  @license:   ISC
 *  @copyright: Copyright 2018 The Redcore (Beijing) Technology Co.,Ltd. All rights reserved.
 */
{"version":3,"sources":["login/Home.js"],"names":["HOMEPROXY","LOGIN","ACCOUNTINFO","APPGROUPLIST","deviceId","initHomeProxy","HomeProxy","init","getFirstLogin","getDeviceId","registNotification","this","data","firstLogin","console","log","$","empty","append","Swiper","direction","slidesPerView","spaceBetween","mousewheel","pagination","el","clickable","bind","getLoggingStatus","status","getAccountInfo","getAppGroupList","switchPage","length","Login","getLastLoginInfo","getAutoLogin","getManagerAddress","removeLoading","message","errorTip","info","company","name","Header","generate","title","logo","id","Tabs","setLoginInfo","setAutoLoginStatus","destroy","document","addEventListener"],"mappings":"AAQA,IAAIA,UAAY,KACZC,MAAQ,KACRC,YAAc,KACdC,aAAe,KACfC,SAAW,GAQf,SAASC,iBACLL,UAAY,IAAIM,WACNC,OACVP,UAAUQ,gBACVR,UAAUS,cAEVT,UAAUU,mBAAmB,4BAA6BC,KACtD,SAAUC,GACFA,IACAR,SAAWQ,KAIvBZ,UAAUU,mBAAmB,+BAAgCC,KACzD,SAAUE,GAEN,GADAC,QAAQC,IAAI,iBAAkBF,GAC1BA,EAAY,CAEZG,EAAE,YAAYC,QACdD,EAAE,YAAYE,OAAO,84IACR,IAAIC,OAAO,2BAA4B,CAChDC,UAAW,WACXC,cAAe,EACfC,aAAc,GACdC,YAAY,EACZC,WAAY,CACRC,GAAI,qBACJC,WAAW,KAI/BV,EAAE,kBAAkBW,KAAK,QAAS,WAClBX,EAAE,YAAYC,QAC7BjB,UAAU4B,0BAGCZ,EAAE,YAAYC,QAE1BjB,UAAU4B,qBAGV5B,UAAUU,mBAAmB,8BAA+BC,KACxD,SAAUkB,GACNf,QAAQC,IAAI,iBAAkBc,GACT,KAAjBA,EAAOA,QACP7B,UAAU8B,iBACV9B,UAAU+B,kBACVjB,QAAQC,IAAI,oBAEZiB,YAAW,IAENH,EAAOA,OAAS,IAC3Bb,EAAE,UAAUiB,OAAS,IAC1BD,YAAW,GACX/B,MAAQ,IAAIiC,MACGlC,UAAUmC,mBACVnC,UAAUoC,eACVpC,UAAUqC,qBAEdpC,OAASA,MAAMqC,gBAEXT,EAAOU,SACPzB,QAAQC,IAAI,YAAcc,EAAOU,SAEjCtC,OAASA,MAAMuC,SAASX,EAAOU,UAG/BzB,QAAQC,IAAI,gBAI5Bf,UAAUU,mBAAmB,gCAAiCC,KAC1D,SAAU8B,GACN3B,QAAQC,IAAI,mCACZD,QAAQC,IAAI,gBAAkB0B,EAAKC,QAAQC,MAE3CC,OAAOC,SAAS,CACZC,MAAOL,EAAKC,QAAQC,KACpBI,KAAM,GACNC,GAAIP,EAAKC,QAAQM,KAErB9C,YAAcuC,EACVtC,cAAgBD,aAChB+C,KAAKJ,SAAS1C,aAAcD,YAAa,MAErDF,UAAUU,mBAAmB,kCAAmCC,KAC5D,SAAU8B,IACNtC,aAAesC,IACKvC,aAChB+C,KAAKJ,SAAS1C,aAAcD,YAAa,MAErDF,UAAUU,mBAAmB,mCAAoCC,KAC7D,SAAU8B,GACN3B,QAAQC,IAAI,qCACZD,QAAQC,IAAI,eAAiB0B,GAE7BxC,MAAMiD,aAAaT,KAE3BzC,UAAUU,mBAAmB,8BAA+BC,KACxD,SAAUkB,GACNf,QAAQC,IAAI,wCACZD,QAAQC,IAAI,eAAiBc,GAE7B5B,MAAMkD,mBAAmBtB,KAEjC7B,UAAUU,mBAAmB,mCAAoCC,KAC7D,SAAU8B,GACN3B,QAAQC,IAAI,6CACZD,QAAQC,IAAI,oBAAsB0B,KAI1CzC,UAAUU,mBAAmB,wBAAyBC,KAClD,WACIG,QAAQC,IAAI,6BACZkC,KAAKG,UACLpD,UAAU4B,qBA3HtByB,SAASC,iBAAiB,mBAAoB,WAE1CjD","file":"../../src/login/Home.js","sourcesContent":["\r\n/**\r\n * Home.js  项目初始js\r\n * 功能：初始化三个功能（首页、搜索、二级列表）所需要的模块js\r\n * 描述：功能较少，所以目前不采用CMD引用模块代码，直接一次引用所需要的模块js代码\r\n */\r\n\r\n\r\nvar HOMEPROXY = null;\r\nvar LOGIN = null;\r\nvar ACCOUNTINFO = null;\r\nvar APPGROUPLIST = null;\r\nvar deviceId = '';\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    // 初始化模块\r\n    initHomeProxy();\r\n});\r\n\r\n\r\n// 初始化首页数据入口\r\nfunction initHomeProxy() {\r\n    HOMEPROXY = new HomeProxy();\r\n    HOMEPROXY.init();\r\n    HOMEPROXY.getFirstLogin();\r\n    HOMEPROXY.getDeviceId();\r\n\r\n    HOMEPROXY.registNotification(\"GET_DEVICEID_NOTIFICATION\", this,\r\n        function (data) {\r\n            if (data) {\r\n                deviceId = data;\r\n            }\r\n        });\r\n\r\n    HOMEPROXY.registNotification(\"GET_FIRST_LOGIN_NOTIFICATION\", this,\r\n        function (firstLogin) {\r\n            console.log('isFirstLogin: ', firstLogin);\r\n            if (firstLogin) {\r\n                // 如果第一次打开，显示欢迎页\r\n                $('#content').empty();\r\n                $('#content').append('<div class=\"hello\" id=\"hello\" > <section class=\"section-swiper\"> <div class=\"swiper-container swiper-container-banner\"> <div class=\"swiper-wrapper\"> <div id=\"swiper1\" class=\"swiper-slide swiper-slide-1\"> <div class=\"title-header\"> <img src=\"./hello/img/logo.png\" alt=\"\" class=\"logo\"> </div> <div class=\"title\"> <h3> 为办公而生 </h3> <ul class=\"signin\"> <li><a class=\"helloLoginBtn\">登录</a></li> </ul> </div> <div class=\"page1-main-1\"> <ul> <li><img src=\"./hello/img/swiper1/4.png\"></li> <li><img src=\"./hello/img/swiper1/3.png\"></li> <li><img src=\"./hello/img/swiper1/2.png\"></li> <li><img src=\"./hello/img/swiper1/1.png\"></li> <li><img src=\"./hello/img/swiper1/001.png\"></li> </ul> </div> <div class=\"page1-main-2\"> <img src=\"./hello/img/swiper1/19.png\" alt=\"\"> </div> <div class=\"light\"> <img src=\"./hello/img/swiper1/888.png\" alt=\"\"> </div> <div  class=\"round\"> <img class=\"page1_round\" src=\"./hello/img/round.png\" style=\"display: block;\"> </div> <div class=\"global_scroll\" style=\"opacity: 1;\"> <img src=\"./hello/img/up.png\"> </div> </div> <div id=\"swiper2\" class=\"swiper-slide swiper-slide-2\"> <!--左侧注册框--> <div class=\"register-logon\"> <h3> 有身份的浏览器 </h3> <ul class=\"signin\"> <!--<li><a href=\"https://www.redcore.cn/signup/index.html\" target= _blank>注册</a></li>--> <li><a class=\"helloLoginBtn\">登录</a></li> </ul> </div> <!--右侧动画--> <div class=\"page2\"> <div class=\"page2-main-1\"> <img class=\"page2-img-1\" src=\"./hello/img/swiper2/1.png\" style=\"display: block;\"> <img class=\"page2-img-2\" src=\"./hello/img/swiper2/2.png\" style=\"display: block;\"> <img class=\"page2-img-3\" src=\"./hello/img/swiper2/3.png\" style=\"display: block;\"> <img class=\"page2-img-4\" src=\"./hello/img/swiper2/4.png\" style=\"display: block;\"> <img class=\"page2-img-2 page2-img-2-positive\" src=\"./hello/img/swiper2/2-2.png\" style=\"display: block;\"> <img class=\"page2-img-3 page2-img-3-positive\" src=\"./hello/img/swiper2/3-3.png\" style=\"display: block;\"> <img class=\"page2-img-4 page2-img-4-positive\" src=\"./hello/img/swiper2/4-4.png\" style=\"display: block;\"> </div> <div class=\"page2-main-2\"> <img class=\"page2-bg\" src=\"./hello/img/swiper2/5.png\" style=\"display: block;\"> </div> <div class=\"page2-main-3\"> <img class=\"line-round\" src=\"./hello/img/swiper2/6.png\" style=\"display: block;\"> </div> </div> <div class=\"global_scroll\" style=\"opacity: 1;\"> <img src=\"./hello/img/up-red.png\"> </div> </div> <div id=\"swiper3\" class=\"swiper-slide swiper-slide-3\"> <!--左侧注册框--> <div class=\"register-logon\"> <h3> 统一的办公入口 </h3> <ul class=\"signin\"> <li><a class=\"helloLoginBtn\">登录</a></li> </ul> </div> <!--右侧动画--> <div class=\"page3\"> <div class=\"page3-main-1\"> <img class=\"page3-main-img-1\" src=\"./hello/img/swiper3/7.png\" style=\"display: block;\"> <div class=\"page3-img-pack\"> <div class=\"page3-img-hover\"> <img class=\"page3-img-1\" src=\"./hello/img/swiper3/9.png\" style=\"display: block;\"> <img class=\"page3-img-2\" src=\"./hello/img/swiper3/10.png\" style=\"display: block;\"> <img class=\"page3-img-3\" src=\"./hello/img/swiper3/11.png\" style=\"display: block;\"> </div> <div class=\"page3-img-hover\"> <img class=\"page3-img-4\" src=\"./hello/img/swiper3/12.png\" style=\"display: block;\"> <img class=\"page3-img-5\" src=\"./hello/img/swiper3/13.png\" style=\"display: block;\"> </div> </div> </div> <div class=\"page3-main-2\"> <img class=\"page3-bg\" src=\"./hello/img/swiper3/8.png\" style=\"display: block;\"> </div> <div class=\"page3-main-3\"> <img class=\"line-round\" src=\"./hello/img/round.png\" style=\"display: block;\"> </div> </div> <div class=\"global_scroll\" style=\"opacity: 1;\"> <img src=\"./hello/img/up.png\"> </div> </div> <div id=\"swiper4\" class=\"swiper-slide swiper-slide-4\"> <!--左侧注册框--> <div class=\"register-logon\"> <h3> 安全的办公平台 </h3> <ul class=\"signin\"> <li><a class=\"helloLoginBtn\">登录</a></li> </ul> </div> <!--右侧动画--> <div class=\"page4\"> <div class=\"page4-main-1\"> <img class=\"page4-img-1\" src=\"./hello/img/swiper4/15.png\" style=\"display: block;\"> <img class=\"page4-img-2\" src=\"./hello/img/swiper4/16.png\" style=\"display: block;\"> <img class=\"page4-img-3\" src=\"./hello/img/swiper4/16.png\" style=\"display: block;\"> <img class=\"page4-img-4\" src=\"./hello/img/swiper4/16.png\" style=\"display: block;\"> </div> <div class=\"page4-main-2\"> <img class=\"page4-bg\" src=\"./hello/img/swiper4/17.png\" style=\"display: block;\"> </div> <div class=\"page4-main-3\"> <img class=\"line-round\" src=\"./hello/img/swiper2/6.png\" style=\"display: block;\"> </div> </div> </div> </div> <div class=\"swiper-pagination\"></div> </div> </section> </div>'); // $('#hello').css('display', 'block');\r\n                var swiper = new Swiper('.swiper-container-banner', {\r\n                    direction: 'vertical',\r\n                    slidesPerView: 1,\r\n                    spaceBetween: 30,\r\n                    mousewheel: true,\r\n                    pagination: {\r\n                        el: '.swiper-pagination',\r\n                        clickable: true,\r\n                    }\r\n                });\r\n\t\t\t\t// 绑定事件\r\n\t\t\t\t$(\".helloLoginBtn\").bind(\"click\", function () {\r\n                    $('#content').empty();\r\n\t\t\t\t\tHOMEPROXY.getLoggingStatus();\r\n\t\t\t\t});\r\n            } else {\r\n                $('#content').empty();\r\n\t\t\t\t// 否则，还走原来的判断登录逻辑\r\n\t\t\t\tHOMEPROXY.getLoggingStatus();\r\n\t\t\t}\r\n        });\r\n    HOMEPROXY.registNotification(\"LOGGING_STATUS_NOTIFICATION\", this,\r\n        function (status) {\r\n            console.log('login status: ', status)\r\n            if (status.status == 100) {\r\n                HOMEPROXY.getAccountInfo();\r\n                HOMEPROXY.getAppGroupList();\r\n                console.log(\"login is success\");\r\n\r\n                switchPage(true)\r\n            }\r\n            else if (status.status < 0) {\r\n\t\t\t\tif (!($(\"#login\").length > 0)) {\r\n\t\t\t\t\tswitchPage(false);\r\n\t\t\t\t\tLOGIN = new Login();\r\n                    HOMEPROXY.getLastLoginInfo();\r\n                    HOMEPROXY.getAutoLogin();\r\n                    HOMEPROXY.getManagerAddress();\r\n\t\t\t\t}\r\n                LOGIN && LOGIN.removeLoading();\r\n\r\n                if (status.message) {\r\n                    console.log(\"status : \" + status.message);\r\n\r\n                    LOGIN && LOGIN.errorTip(status.message);\r\n                }\r\n                else {\r\n                    console.log('Not login')\r\n                }\r\n            }\r\n        });\r\n    HOMEPROXY.registNotification(\"GET_ACCOUNT_INFO_NOTIFICATION\", this,\r\n        function (info) {\r\n            console.log(\"updateCompanyInfoCache is done.\");\r\n            console.log(\"companyTitle:\" + info.company.name);\r\n\r\n            Header.generate({\r\n                title: info.company.name,\r\n                logo: \"\",\r\n                id: info.company.id\r\n            });\r\n            ACCOUNTINFO = info;\r\n            if (APPGROUPLIST && ACCOUNTINFO)\r\n                Tabs.generate(APPGROUPLIST, ACCOUNTINFO, {});\r\n        });\r\n    HOMEPROXY.registNotification(\"GET_APP_GROUP_LIST_NOTIFICATION\", this,\r\n        function (info) {\r\n            APPGROUPLIST = info;\r\n            if (APPGROUPLIST && ACCOUNTINFO)\r\n                Tabs.generate(APPGROUPLIST, ACCOUNTINFO, {});\r\n        });\r\n    HOMEPROXY.registNotification(\"GET_LAST_LOGIN_INFO_NOTIFICATION\", this,\r\n        function (info) {\r\n            console.log(\"LAST_LOGIN_INFO_FICATION is done.\");\r\n            console.log(\"LOGIN_INFO: \" + info);\r\n\r\n            LOGIN.setLoginInfo(info)\r\n        });\r\n    HOMEPROXY.registNotification(\"GET_AUTO_LOGIN_NOTIFICATION\", this,\r\n        function (status) {\r\n            console.log(\"GET_AUTO_LOGIN_NOTIFICATION is done.\");\r\n            console.log(\"AUTO_LOGIN: \" + status);\r\n\r\n            LOGIN.setAutoLoginStatus(status)\r\n        });\r\n    HOMEPROXY.registNotification(\"GET_MANAGER_ADDRESS_NOTIFICATION\", this,\r\n        function (info) {\r\n            console.log(\"GET_MANAGER_ADDRESS_NOTIFICATION is done.\");\r\n            console.log(\"MANAGER_ADDRESS: \" + info);\r\n\r\n            // LOGIN.setManagerAddress(info)\r\n        });\r\n    HOMEPROXY.registNotification(\"LOGOUTED_NOTIFICATION\", this,\r\n        function () {\r\n            console.log(\"current user is logouted.\");\r\n            Tabs.destroy();\r\n            HOMEPROXY.getLoggingStatus();\r\n        });\r\n}\r\n"]}